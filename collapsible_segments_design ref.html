<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Collapsible Segments</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            background: #ffffff;
            color: #000000;
            font-weight: 300;
        }

        .container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .segment {
            position: relative;
            min-height: 80px;
            overflow: hidden;
            transition: all 0.4s ease;
            cursor: pointer;
            border-bottom: 1px solid #e0e0e0;
        }

        .segment:last-child {
            border-bottom: none;
        }

        .segment.collapsed {
            min-height: 80px;
            max-height: 80px;
        }

        .segment.expanded {
            min-height: 400px;
            max-height: none;
            background: #f8f8f8;
        }

        .segment-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 40px;
            font-size: 18px;
            font-weight: 400;
            color: #000000;
            z-index: 2;
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
        }

        .segment.expanded .segment-header {
            background: #f8f8f8;
            border-bottom: 1px solid #e0e0e0;
        }

        .segment-title {
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 1px;
        }

        .segment-content {
            position: absolute;
            top: 80px;
            left: 0;
            width: 100%;
            height: 320px;
            padding: 40px;
            color: #333333;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
            overflow-y: auto;
        }

        .segment.expanded .segment-content {
            opacity: 1;
            transform: translateY(0);
        }

        .expand-icon {
            font-size: 24px;
            font-weight: 300;
            transition: all 0.3s ease;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .segment.collapsed .expand-icon::before {
            content: '+';
        }

        .segment.expanded .expand-icon::before {
            content: 'âˆ’';
        }

        .content-text {
            font-size: 16px;
            line-height: 1.8;
            color: #444444;
            max-width: 800px;
            font-weight: 300;
        }

        .divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #e0e0e0, transparent);
            margin: 0 40px;
        }

        .segment:hover .segment-header {
            background: #fafafa;
        }

        .segment.expanded:hover .segment-header {
            background: #f8f8f8;
        }

        @media (max-width: 768px) {
            .segment-header {
                padding: 0 20px;
            }
            
            .segment-content {
                padding: 30px 20px;
            }
            
            .segment-title {
                font-size: 12px;
            }
            
            .divider {
                margin: 0 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="segment collapsed" onclick="toggleSegment(this)">
            <div class="segment-header">
                <span class="segment-title">Creative Solutions</span>
                <span class="expand-icon"></span>
            </div>
            <div class="segment-content">
                <div class="content-text">
                    Welcome to our innovative platform where creativity meets technology. Our team specializes in delivering cutting-edge solutions that transform your business vision into reality. We combine artistic flair with technical expertise to create memorable experiences that resonate with your audience. From brand identity to digital campaigns, we craft stories that captivate and inspire. Our collaborative approach ensures every project reflects your unique voice while maintaining the highest standards of quality and innovation. Join us on a journey where imagination knows no bounds and every idea has the potential to become extraordinary.
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="segment collapsed" onclick="toggleSegment(this)">
            <div class="segment-header">
                <span class="segment-title">Technical Excellence</span>
                <span class="expand-icon"></span>
            </div>
            <div class="segment-content">
                <div class="content-text">
                    Our technical infrastructure is built on robust, scalable foundations that adapt to your growing needs. We leverage modern frameworks, cloud technologies, and industry best practices to ensure optimal performance and reliability. Security is paramount in everything we build, with comprehensive testing protocols and continuous monitoring systems. Our development process follows agile methodologies, enabling rapid iteration and seamless integration. Whether you need web applications, mobile solutions, or enterprise systems, our expert team delivers code that is clean, efficient, and maintainable. Experience the power of technology that works seamlessly behind the scenes to elevate your business operations.
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div class="segment collapsed" onclick="toggleSegment(this)">
            <div class="segment-header">
                <span class="segment-title">Client Success</span>
                <span class="expand-icon"></span>
            </div>
            <div class="segment-content">
                <div class="content-text">
                    Your success is our primary mission, and we measure our achievements by the growth and satisfaction of our clients. We provide comprehensive support throughout every phase of your project, from initial consultation to post-launch optimization. Our dedicated account managers ensure clear communication and timely delivery of all milestones. We believe in building long-term partnerships based on trust, transparency, and mutual respect. Our track record speaks for itself, with numerous successful projects across diverse industries and positive testimonials from satisfied clients. Let us help you achieve your goals with personalized strategies, expert guidance, and unwavering commitment to excellence in every interaction.
                </div>
            </div>
        </div>
    </div>

    <script>
        let isScrolling = false;
        let scrollTimeout;

        function toggleSegment(clickedSegment) {
            const allSegments = document.querySelectorAll('.segment');
            const isCurrentlyExpanded = clickedSegment.classList.contains('expanded');
            
            // First, collapse all segments
            allSegments.forEach(segment => {
                segment.classList.remove('expanded');
                segment.classList.add('collapsed');
            });
            
            // If the clicked segment wasn't expanded, expand it
            if (!isCurrentlyExpanded) {
                clickedSegment.classList.remove('collapsed');
                clickedSegment.classList.add('expanded');
            }
        }

        function getSegmentInView() {
            const segments = document.querySelectorAll('.segment');
            const viewportHeight = window.innerHeight;
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            let maxVisibleArea = 0;
            let mostVisibleSegment = null;
            
            segments.forEach((segment, index) => {
                const rect = segment.getBoundingClientRect();
                const segmentTop = rect.top + scrollTop;
                const segmentBottom = segmentTop + rect.height;
                
                // Calculate visible area of segment
                const visibleTop = Math.max(segmentTop, scrollTop);
                const visibleBottom = Math.min(segmentBottom, scrollTop + viewportHeight);
                const visibleArea = Math.max(0, visibleBottom - visibleTop);
                
                if (visibleArea > maxVisibleArea) {
                    maxVisibleArea = visibleArea;
                    mostVisibleSegment = segment;
                }
            });
            
            return mostVisibleSegment;
        }

        function handleScroll() {
            if (isScrolling) return;
            
            isScrolling = true;
            
            // Clear existing timeout
            clearTimeout(scrollTimeout);
            
            // Set timeout to handle scroll end
            scrollTimeout = setTimeout(() => {
                const targetSegment = getSegmentInView();
                
                if (targetSegment) {
                    const allSegments = document.querySelectorAll('.segment');
                    
                    // Collapse all segments
                    allSegments.forEach(segment => {
                        segment.classList.remove('expanded');
                        segment.classList.add('collapsed');
                    });
                    
                    // Expand the target segment
                    targetSegment.classList.remove('collapsed');
                    targetSegment.classList.add('expanded');
                }
                
                isScrolling = false;
            }, 150);
        }

        // Initialize with first segment expanded
        document.addEventListener('DOMContentLoaded', function() {
            const allSegments = document.querySelectorAll('.segment');
            allSegments.forEach((segment, index) => {
                if (index === 0) {
                    segment.classList.add('expanded');
                } else {
                    segment.classList.add('collapsed');
                }
            });
            
            // Add scroll listener
            window.addEventListener('scroll', handleScroll, { passive: true });
            
            // Initial check
            setTimeout(() => {
                const targetSegment = getSegmentInView();
                if (targetSegment && !targetSegment.classList.contains('expanded')) {
                    allSegments.forEach(segment => {
                        segment.classList.remove('expanded');
                        segment.classList.add('collapsed');
                    });
                    targetSegment.classList.remove('collapsed');
                    targetSegment.classList.add('expanded');
                }
            }, 100);
        });
    </script>
</body>
</html>